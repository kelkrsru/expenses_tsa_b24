# Приложение "Затраты" для Битрикс24

### Концепция приложения
Приложение "Затраты" позволит вести учет затрат по каждой услуге сделки. 
Услуги хранятся и добавляются в сделку с помощью стандартного функционала 
Битрикс24 "Каталог товаров". Сами затраты отражаются в отдельной вкладке 
сделки "Затраты", в которую по умолчанию копируются все услуги из раздела 
"Товары". К одной услуге может быть добавлено несколько статей затрат. Сами 
затраты состоят из: Статья затрат, Сумма затрат, Привязка к конкретному грузу, 
Привязка к компании-контрагенту (Справочник Компании Б24), Привязка к 
сотруднику (Справочник Сотрудники Б24), Документ затрат (Счет, УПД и пр.; 
Номер и тип документа). Вся информация хранится во внешней базе данных 
приложения. Затраты могут быть внесены или отредактированы на любой стадии 
сделки. Также необходимо вести историю изменений данных для контроля 
целостности и предотвращения ошибочных данных. 

Приложение "Затраты" будет иметь две отчетные формы с применением необходимых 
фильтров. Отчеты будут открываться из главной ссылки приложения 
(Левое меню Б24). Печатные формы отчетов и фильтры предоставлены Заказчиком. 
Должна быть предусмотрена возможность скачивания отчета в формате pdf.

Приложение "Затраты" должно иметь раздел Настройки. В данном разделе должно 
быть предусмотрено создание и редактирование "Статей затрат". Доступ к 
настройкам также осуществляется через левое меню Б24.

Также необходимо разработать действие БП для Б24, которое будет проверять 
заполненность блока Затраты в сделке на необходимом этапе. Например, при 
закрытии сделки.

### Разработчик
Кириллов Евгений
